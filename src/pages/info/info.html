<!--
  Generated template for the InfoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="clickinn">
    <ion-title style="font-family: 'Ubuntu', sans-serif;">Apartment Info</ion-title>
  </ion-navbar>
</ion-header>

<ion-content style="background: #f4f4f4;">
	<ion-grid no-padding>
    <ion-row>
      <ion-col col-0 col-sm-0 col-md-0 col-lg-3>
      </ion-col>
      <ion-col col-12 col-sm-12 col-md-12 col-lg-6>
      	<ion-fab bottom right>
			<button ion-fab (click)="addToLiked()" >
				<ion-icon name="{{heart}}">
				</ion-icon>
			</button>
			<button ion-fab color="secondary" (click)="sendMessage()" >
				<ion-icon name="ios-chatboxes-outline">
				</ion-icon>
			</button>
		</ion-fab>
      	<ion-buttons *ngIf="canEdit">
			<button ion-button small clear (click)="gotoApartment(apartment)">edit</button>
		</ion-buttons>
		<ion-item text-wrap text-center no-lines>
			<!-- <ion-avatar item-start>
				<img src="{{apartment?.dP?.url}}" imageViewer/>
			</ion-avatar> -->
			<h1>{{apartment?.room_type}}</h1>
			<p>{{apartment?.description}}</p><br/>
			<p>{{apartment?.property?.common}}</p>
		</ion-item>
		<div style="background: #000020; border-radius: 10px">
			<h4 text-center padding style="color: white">Apartment pictures</h4>
			<ion-slides  loop="true" slidesPerView="2" class="image_container" [pager]="true">
				<ion-slide *ngFor="let image of images; let idx = index">
					<img src="{{image?.url}}" (load)="imagesLoaded[idx] = true" [hidden]="!imagesLoaded[idx]" imageViewer class="thumb-img" />
					<img src="assets/imgs/placeholder.jpg" [hidden]="imagesLoaded[idx]" />
				</ion-slide>
			</ion-slides>
		</div>
		<h2 text-center>More info</h2>
		<ion-item text-wrap>
			<ion-icon name='walk' color="light-gray" item-start></ion-icon>
			<h1>Places within a 10 min walk</h1> 
			<ion-list>
				<button ion-item text-wrap *ngFor="let place of property?.nearbys" text-wrap>
				  {{place}}
				</button>
			</ion-list>
		</ion-item>
		<ion-item text-wrap>
			<ion-icon name='home' color="light-gray" item-start></ion-icon>
			Apartments left 
			<ion-note color="danger" item-end>{{apartment?.quantity_available ? apartment?.quantity_available : 1 }}</ion-note>
		</ion-item>
		<ion-item text-wrap>
			<ion-icon name='cash' color="light-gray" item-start></ion-icon>
			Deposit ( 1st month rent incl. ) <ion-note item-end>R{{apartment?.deposit}}</ion-note>
		</ion-item>
		<ion-item text-wrap>
			<ion-icon name='paper' color="light-gray" item-start></ion-icon>
	       	Monthly rent <ion-note item-end> R{{apartment?.price}}</ion-note>
		</ion-item>
		<ion-item text-wrap>
			<ion-icon name='wifi' color="light-gray" item-start></ion-icon>
			Free wifi <ion-note item-end>{{apartment?.property?.wifi ? "Available" : "Not available"}}</ion-note>
		</ion-item>
		<ion-item text-wrap>
			<ion-icon name='shirt' color="light-gray" item-start></ion-icon>
			Laundry machine <ion-note item-end>{{apartment?.property?.laundry ? "Available" : "Not available"}}</ion-note>
		</ion-item>
		<ion-item text-wrap>
			<ion-icon name='checkmark' color="light-gray" item-start></ion-icon>
			NSFAS status<ion-note item-end>{{apartment?.property?.nsfas ? "Accreditted" : "N/A"}}</ion-note>
		</ion-item>
		<ion-buttons margin-vertical>
			<button ion-button round outline (click)="gotoAppointment()" >Set appointment</button>
			<button ion-button round outline color="secondary" (click)="gotoSecure()" >Make deposit now</button>
		</ion-buttons>
      </ion-col>
      <ion-col col-0 col-sm-0 col-md-0 col-lg-3>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
